import { Tabs } from 'expo-router';
import IonIcons from '@expo/vector-icons/Ionicons';
import { View, StyleSheet, Pressable } from 'react-native';
import Svg, { Path } from 'react-native-svg';
import React from 'react';
import {
  StatusBar,
} from 'react-native';

export default function RootLayout() {
  return (
    <>
      <Tabs
        screenOptions={{
          tabBarStyle: {
            paddingBottom: 0,
          },
          tabBarButton: (props) =>
              <Pressable {...props} android_ripple={null}/>
        }}
        >
        <Tabs.Screen
            name="search/Search"
            options={{
              title: 'Search',
              tabBarShowLabel: false,
              headerShown: false,
              tabBarIcon: ({focused}) => (
                <View style={styles.iconContainer}>
                <IonIcons
                  name="search"
                  size={24}
                  color={focused?"#5167F2":"black"}
                  style={styles.svgForeground}/>
                {focused ?
                <Svg
                  width={36}
                  height={40}
                  viewBox="0 0 64 81"
                  fill="none"
                  style={styles.svgBackground}
                >
                  <Path
                    d="M32 0C49.6729 2.78322e-05 63.9998 14.3262 64 31.999V80.9814H0V31.999C0.000229513 14.3261 14.3271 0 32 0Z"
                    fill="#C9E6FF"
                  />
                </Svg>
                : <></>
                }
                </View>
              ),
            }}
          />
          <Tabs.Screen
          name="index"
          options={{
            title: 'Home',
            tabBarShowLabel: false,
            tabBarIcon: ({focused}) => (
              <View style={styles.iconContainer}>
                {focused ?
                <View style={styles.roseContainer}>
                <Svg width={18} height={41} viewBox="0 0 18 41" style={styles.svgRose}>
                  <Path d="M8.74691 4.16445C10.8808 3.69538 13.3711 3.98622 14.9622 5.59096C16.4959 7.13796 17.1244 9.46022 16.6431 11.6358C16.1547 13.8437 14.5407 15.8447 11.7155 16.7861C11.2268 16.949 10.7343 17.0746 10.2426 17.1649C10.3469 17.5059 10.4378 17.8421 10.5042 18.1655C10.7962 19.5878 11.1796 22.6043 10.9661 25.1744C10.8607 26.4428 10.6015 27.7271 10.0171 28.6479C9.95119 28.7517 9.87987 28.852 9.80366 28.9482C9.88036 29.0938 9.95883 29.2355 10.0395 29.3725C10.1733 29.1218 10.3153 28.8731 10.4662 28.6264C11.5522 26.8513 12.9407 25.6556 14.1857 25.014C14.8044 24.6951 15.4192 24.4972 15.9665 24.4548C16.4591 24.4166 17.0891 24.496 17.5054 24.9775L17.545 25.0254L17.575 25.0644C17.8782 25.4717 17.9849 26.0048 17.9985 26.4929C18.0131 27.0199 17.9234 27.6099 17.7356 28.2061C17.3714 29.3626 16.6128 30.6211 15.3781 31.5693L15.2571 31.6601C13.9167 32.6429 12.6796 32.9968 11.5437 32.7268C11.179 32.64 10.8465 32.4936 10.5426 32.3048C9.83556 34.5965 9.82503 37.083 10.4542 39.7918L10.4977 39.9756L10.5067 40.017C10.5882 40.4448 10.3319 40.8681 9.91841 40.9751C9.50496 41.0822 9.08611 40.8338 8.96318 40.4167L8.95216 40.3758L8.90471 40.1754C8.15481 36.945 8.22535 33.9101 9.26206 31.1021C9.17321 30.9866 9.08812 30.8687 9.00688 30.7494C8.81714 30.4707 8.64055 30.1742 8.47526 29.8692C8.01126 30.0026 7.5097 29.9979 6.98544 29.8689C4.70314 29.3072 3.1267 27.6894 2.23785 26.1102C1.7929 25.3197 1.50225 24.5086 1.38311 23.7963C1.32364 23.4408 1.30298 23.0865 1.34019 22.7595C1.3763 22.4421 1.47514 22.0808 1.71569 21.7871L1.75472 21.7413C2.1627 21.2768 2.73147 21.1305 3.2522 21.1456C3.78679 21.1611 4.35213 21.3427 4.88789 21.6208C5.96356 22.1792 7.08451 23.2114 7.85794 24.583C8.23524 25.2521 8.60522 26.2269 8.97641 27.1297C9.17442 26.5815 9.30924 25.8683 9.37862 25.0333C9.57448 22.6761 9.21726 19.8307 8.94568 18.5078C8.87208 18.1493 8.75824 17.7595 8.61984 17.3371C6.8959 17.3879 5.24059 17.0166 3.848 16.3022C1.62766 15.163 1.92132e-06 13.0969 0 10.4389C-1.64725e-06 7.87508 1.28553 6.21079 2.10624 4.92096C2.53309 4.25011 2.82277 3.71004 2.92739 3.15416C3.02157 2.65373 2.97726 2.069 2.58936 1.28944L2.55072 1.21339L2.53231 1.17556C2.35233 0.781306 2.50111 0.306019 2.87682 0.0978022C3.25252 -0.110375 3.7173 0.024871 3.93487 0.39826L3.95523 0.435147L4.00761 0.53843C4.53597 1.60212 4.66248 2.55995 4.49138 3.4691C4.32215 4.36829 3.87327 5.14167 3.4371 5.82716C2.53173 7.25005 1.59329 8.47016 1.59329 10.4389C1.5933 12.3136 2.72689 13.8873 4.55582 14.8256C5.56786 15.3448 6.76974 15.6523 8.04517 15.6897C7.83555 15.0932 7.62536 14.4672 7.46377 13.8478C7.45536 13.8155 7.44721 13.7831 7.439 13.7507C6.50596 13.6375 5.67071 13.3149 4.9994 12.8013C3.59435 11.7263 3.05468 9.92086 3.76838 7.95197C4.50136 5.92996 6.6241 4.6311 8.74691 4.16445ZM16.3318 26.1078C16.2945 26.0989 16.2189 26.088 16.0855 26.0983C15.8004 26.1204 15.3885 26.2356 14.8962 26.4893C13.9191 26.9928 12.7476 27.9795 11.8125 29.5078C11.5652 29.9121 11.344 30.323 11.1481 30.7406C11.3925 30.9323 11.6425 31.059 11.9007 31.1204C12.4389 31.2484 13.2127 31.1389 14.3359 30.3154L14.4283 30.246C15.3723 29.5209 15.9484 28.5601 16.2207 27.6956C16.3614 27.2487 16.4144 26.8482 16.4058 26.5401C16.4016 26.3868 16.3824 26.2686 16.3589 26.1848C16.3493 26.1509 16.3396 26.1258 16.3318 26.1078ZM3.20746 22.7931C3.09432 22.7899 3.02251 22.8059 2.98276 22.8209C2.96401 22.828 2.95205 22.8349 2.94425 22.8406C2.9388 22.8574 2.92941 22.8923 2.92259 22.9522C2.90803 23.0802 2.91189 23.2691 2.95306 23.5153C3.03524 24.0066 3.2504 24.6336 3.61473 25.2809C4.34445 26.5773 5.60022 27.8337 7.3542 28.2654C7.4998 28.3012 7.62683 28.317 7.73813 28.3189C7.66419 28.1461 7.5928 27.9754 7.52393 27.8082C7.10878 26.8007 6.79696 25.9726 6.4817 25.4136C5.861 24.3128 4.96774 23.5064 4.17332 23.094C3.77408 22.8867 3.44036 22.7999 3.20746 22.7931ZM13.8499 6.77106C12.7854 5.69743 10.9275 5.37019 9.07806 5.77673C7.21766 6.1857 5.72229 7.25619 5.26028 8.53062C4.77905 9.85814 5.15254 10.8684 5.94671 11.476C6.26748 11.7215 6.67753 11.9153 7.16139 12.0307C7.10321 10.8561 7.36757 9.67456 8.35662 8.73356C9.10798 8.01871 9.98322 7.78293 10.7947 7.94513C11.5782 8.10176 12.2362 8.61633 12.6214 9.27345C13.0107 9.93779 13.1494 10.8039 12.7893 11.6298C12.4303 12.4529 11.6489 13.0723 10.5207 13.4254C10.0355 13.5773 9.5566 13.6813 9.09038 13.7397C9.26376 14.3427 9.48203 14.9584 9.70537 15.5858C10.2112 15.5075 10.7207 15.386 11.2271 15.2173C13.5541 14.4418 14.7353 12.8716 15.09 11.268C15.4519 9.63207 14.9716 7.90241 13.8499 6.77106ZM10.4924 9.56331C10.2089 9.50662 9.83872 9.56271 9.43516 9.94666C8.87459 10.48 8.6842 11.1939 8.76311 12.1198C9.17054 12.0781 9.60416 11.9902 10.0594 11.8477C10.9057 11.5828 11.2261 11.2063 11.3369 10.9521C11.4466 10.7006 11.4231 10.4078 11.259 10.1279C11.0907 9.8407 10.8039 9.62558 10.4924 9.56331Z" fill="#BF3614"/>
                </Svg>
                <Svg
                  width={36}
                  height={40}
                  viewBox="0 0 64 81"
                  fill="none"
                  style={styles.svgBackground}
                >
                  <Path
                    d="M32 0C49.6729 2.78322e-05 63.9998 14.3262 64 31.999V80.9814H0V31.999C0.000229513 14.3261 14.3271 0 32 0Z"
                    fill="#C9E6FF"
                  />
                </Svg>
                </View>
                :
                <Svg width={24} height={28} viewBox="0 0 150 212" style={styles.svgForeground}>
                  <Path d="M43.2793 1.41739C49.6466 -0.588376 56.1307 0.925285 61.7197 4.28556C67.2619 7.61782 72.3805 12.9841 76.8564 19.8266C86.1511 34.0356 87.0864 45.9996 86.1484 56.7934C85.9243 59.3726 85.5955 61.8749 85.2803 64.2055C84.9579 66.5891 84.6549 68.7596 84.4268 70.9438C83.9765 75.2533 83.8737 79.179 84.5674 83.1899C84.6396 83.6073 84.7254 84.0252 84.8203 84.4438C86.1958 80.1391 88.1099 75.6542 91.0615 71.1928C95.2294 64.8929 101.202 59.0293 109.897 53.6859C118.537 48.3768 127.072 45.8859 134.666 47.8061C142.836 49.8721 147.453 56.3527 149.151 63.3774C152.369 76.6882 146.358 94.69 133.292 108.072C126.518 115.009 119.19 119.153 111.63 120.528C104.621 121.802 98.0146 120.582 92.2725 117.849C90.9538 120.735 89.2821 123.627 87.0967 126.459C88.9887 130.508 90.5608 134.687 91.8018 138.937C98.65 162.393 95.7042 188.924 80.3389 208.88L80.0791 209.201C77.3306 212.419 72.5105 212.95 69.1191 210.339C65.6183 207.644 64.9657 202.62 67.6611 199.12L68.2041 198.402C79.467 183.238 82.0314 162.561 76.4434 143.421C75.848 141.382 75.1614 139.371 74.3887 137.395C66.5964 141.71 57.6651 143.404 48.8984 142.878C35.1193 142.052 21.1573 135.761 11.1894 124.817C6.32128 119.472 2.79537 113.653 1.10839 107.863C-0.566437 102.114 -0.585647 95.6846 2.7705 90.2104C6.226 84.5742 12.2072 81.6491 18.9521 80.9486C25.5685 80.2615 33.4415 81.5985 42.3428 84.8168L43.5381 85.2602C57.7784 90.6745 69.2823 99.8501 77.792 111.035C78.2939 109.92 78.7376 108.769 79.1357 107.574C73.7519 101.262 70.1106 93.484 68.8018 85.9164C67.756 79.8697 67.9881 74.3115 68.5137 69.2807C68.7734 66.7946 69.118 64.3296 69.4248 62.0609C69.7388 59.7394 70.021 57.5712 70.209 55.4086C70.9193 47.2344 70.3332 39.0823 63.4668 28.5854C59.8622 23.0748 56.3482 19.7256 53.4756 17.9984C50.6498 16.2995 48.9352 16.4109 48.0869 16.6781C47.2214 16.9508 45.568 17.9189 43.9717 21.3529C42.3571 24.8262 41.0987 30.2833 40.999 38.102C40.8103 52.9056 46.0056 59.7163 50.1191 63.018C52.3391 64.7998 54.5757 65.8203 56.2383 66.3881C57.063 66.6698 57.7215 66.831 58.1269 66.9164C58.328 66.9588 58.4632 66.9824 58.5215 66.9916C58.5337 66.9935 58.5427 66.9948 58.5478 66.9955C58.5418 66.9947 58.5308 66.9936 58.5146 66.9916C58.5063 66.9906 58.4964 66.989 58.4853 66.9877C58.4799 66.9871 58.4739 66.9865 58.4678 66.9858C58.4648 66.9854 58.4598 66.985 58.458 66.9848H58.457C62.8424 67.4856 65.9938 71.4443 65.498 75.8315C65.0017 80.2216 61.0406 83.3784 56.6504 82.8822L57.5732 74.7192C57.5653 74.7897 57.5569 74.8612 57.5488 74.933C56.6505 82.8821 56.6451 82.8819 56.6396 82.8813C56.6376 82.881 56.6326 82.8797 56.6289 82.8793C56.6211 82.8784 56.6121 82.8774 56.6035 82.8764C56.5865 82.8744 56.568 82.872 56.5478 82.8695C56.5071 82.8645 56.4594 82.8591 56.4062 82.852C56.3 82.8376 56.1693 82.8187 56.0156 82.7943C55.708 82.7456 55.3068 82.674 54.8262 82.5727C53.8671 82.3705 52.5768 82.0446 51.0664 81.5287C48.0581 80.5012 44.0751 78.6842 40.1035 75.4965C31.8338 68.859 24.7548 57.2033 25.001 37.8979C25.1187 28.662 26.5942 20.779 29.4629 14.6078C32.3497 8.39789 36.9293 3.41786 43.2793 1.41739ZM36.9033 99.8637C29.2961 97.1132 23.9687 96.5133 20.6045 96.8627C17.3692 97.1988 16.5886 98.2842 16.4111 98.5736C16.1343 99.0255 15.6105 100.438 16.4697 103.387C17.317 106.296 19.3647 110.033 23.0176 114.043C30.092 121.811 40.1113 126.322 49.8564 126.907C56.097 127.281 61.9761 126.05 66.8906 123.246C59.8796 113.089 50.0641 104.858 37.8418 100.211L36.9033 99.8637ZM130.744 63.3178C129.205 62.9286 125.291 63.0065 118.274 67.3178C111.314 71.5949 107.134 75.8963 104.405 80.0209C101.655 84.1773 100.115 88.5482 98.9131 93.4115C98.3002 95.8906 97.8047 98.3624 97.2402 101.083C97.1631 101.455 97.0818 101.831 97.0019 102.21C97.4552 102.499 97.9149 102.77 98.3818 103.018C101.674 104.769 105.156 105.442 108.768 104.786C112.406 104.124 116.876 101.982 121.844 96.894C132.262 86.2242 135.165 73.614 133.6 67.1371C132.906 64.2687 131.707 63.5613 130.744 63.3178Z" fill="black"/>
                </Svg>
                }
              </View>
            ),
            headerShown: false,
          }}
        />
        <Tabs.Screen
          name="user/Profile"
          options={{
            title: 'Profile',
            tabBarShowLabel: false,
            tabBarIcon: ({focused}) => (
              <View style={styles.iconContainer}>
                <Svg width="24" height="24" viewBox="0 0 44 44" style={styles.svgForeground}>
                  <Path d="M28 18C28 14.6863 25.3137 12 22 12C18.6863 12 16 14.6863 16 18C16 21.3137 18.6863 24 22 24C25.3137 24 28 21.3137 28 18ZM22 28C19.3478 28 16.8051 29.0543 14.9297 30.9297C13.292 32.5674 12.2787 34.7138 12.0488 36.998C14.8996 38.8933 18.3201 40 22 40C25.6794 40 29.0987 38.8928 31.9492 36.998C31.7193 34.7139 30.708 32.5674 29.0703 30.9297C27.1949 29.0543 24.6522 28 22 28ZM44 22C44 34.1503 34.1503 44 22 44C9.84974 44 0 34.1503 0 22C0 9.84974 9.84974 0 22 0C34.1503 0 44 9.84974 44 22ZM32 18C32 21.0429 30.6384 23.7655 28.4941 25.5996C29.7378 26.2509 30.8894 27.0886 31.9004 28.0996C33.5587 29.7579 34.7555 31.7908 35.4141 33.998C38.2644 30.8135 40 26.6102 40 22C40 12.0589 31.9411 4 22 4C12.0589 4 4 12.0589 4 22C4 26.6098 5.73416 30.8136 8.58398 33.998C9.24254 31.7906 10.4412 29.758 12.0996 28.0996C13.1102 27.089 14.2608 26.2508 15.5039 25.5996C13.3603 23.7655 12 21.0424 12 18C12 12.4772 16.4772 8 22 8C27.5228 8 32 12.4772 32 18Z"
                    fill={focused?"#5167F2":"black"}/>
                </Svg>
              {focused ?
                <Svg
                width={36}
                height={40}
                viewBox="0 0 64 81"
                fill="none"
                style={styles.svgBackground}
                >
                  <Path
                    d="M32 0C49.6729 2.78322e-05 63.9998 14.3262 64 31.999V80.9814H0V31.999C0.000229513 14.3261 14.3271 0 32 0Z"
                    fill="#C9E6FF"
                  />
                </Svg>
              : <></>
              }
              </View>
            ),
            headerShown: false,
          }}
        />
        <Tabs.Screen
          name="plant/AddPlant"
          options={{
            href: null,
            tabBarShowLabel: false,
            headerShown: false,
          }}
        />
        <Tabs.Screen
          name="plant/PlantDetails"
          options={{
            href: null,
            tabBarShowLabel: false,
            headerShown: false,
          }}
        />
      </Tabs>
      <StatusBar
        barStyle='dark-content'
        showHideTransition='fade'
      />
    </>
  );
}

const styles = StyleSheet.create({
  iconContainer: {
    alignItems: 'center',
    justifyContent: 'center',
    position: 'relative',
    top: 4,
  },
  roseContainer: {
    alignItems: 'center',
    justifyContent: 'center',
    position: 'relative',
  },
  svgBackground: {
    position: 'absolute',
    zIndex: 1, 
  },
  svgForeground: {
    position: 'absolute',
    zIndex: 2,
  },
  svgRose: {
    top: 6,
    zIndex: 2,
  }
});

export const unstable_settings = {
  initialRouteName: "user/Profile.tsx",
};